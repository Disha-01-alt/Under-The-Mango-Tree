<header class="bg-[#1E3D59] text-white shadow-lg sticky top-0 z-50">
    <div class="container mx-auto px-6 py-4 flex justify-between items-center">
        <!-- Logo -->
        <div class="flex items-center">
            <i class="fas fa-tree text-2xl mr-2 text-green-400 animate-float"></i>
            <a href="{{ url_for('home') }}" class="text-xl font-bold tracking-wider hover:text-[#FF6B35] transition duration-300">Under The Mango Tree</a>
        </div>

        <!-- Desktop Navigation -->
        <nav class="hidden md:flex items-center space-x-8">
            <a href="{{ url_for('home') }}" class="hover:text-[#FF6B35] transition duration-300 font-medium">Home</a>
            
            <div class="relative">
                <button id="learningToggle" class="flex items-center hover:text-[#FF6B35] transition duration-300 font-medium focus:outline-none">
                    Learning <i class="fas fa-chevron-down text-xs ml-1"></i>
                </button>
                <div id="learningMenu" class="absolute left-0 mt-2 w-56 bg-white rounded-md shadow-xl py-2 z-20 hidden">
                    <a href="{{ url_for('english_learning')}}" class="block px-4 py-2 text-gray-800 hover:bg-gray-100 hover:text-[#FF6B35] transition duration-200">English Learning</a>
                    <a href="{{ url_for('python_learning')}}" class="block px-4 py-2 text-gray-800 hover:bg-gray-100 hover:text-[#FF6B35] transition duration-200">Python</a>
                    <a href="{{ url_for('algorithms') }}" class="block px-4 py-2 text-gray-800 hover:bg-gray-100 hover:text-[#FF6B35] transition duration-200">Algorithms</a>
                    <a href="{{ url_for('machine_learning') }}" class="block px-4 py-2 text-gray-800 hover:bg-gray-100 hover:text-[#FF6B35] transition duration-200">Machine Learning</a>
                    <a href="{{ url_for('deep_learning_ai') }}" class="block px-4 py-2 text-gray-800 hover:bg-gray-100 hover:text-[#FF6B3S5] transition duration-200">Deep Learning & AI</a>
                    <a href="{{ url_for('interview_preparation') }}" class="block px-4 py-2 text-gray-800 hover:bg-gray-100 hover:text-[#FF6B35] transition duration-200">Interview Preparation</a>
                </div>
            </div>

            <a href="{{ url_for('job_portal_index') }}" class="hover:text-[#FF6B35] transition duration-300 font-medium">Job Portal</a>
            <a href="{{ url_for('projects') }}" class="hover:text-[#FF6B35] transition duration-300 font-medium">Projects</a> 
            <a href="{{ url_for('team') }}" class="hover:text-[#FF6B35] transition duration-300 font-medium">Team</a>
        </nav>
        
        <!-- Mobile menu button -->
        <div class="md:hidden">
            <button id="mobile-menu-btn" class="text-white focus:outline-none">
                <i class="fas fa-bars text-xl" id="menu-icon"></i>
            </button>
        </div>
    </div>

    <!-- Mobile Navigation Menu -->
    <div id="mobile-menu" class="md:hidden bg-[#1E3D59] border-t border-gray-700 hidden">
        <div class="container mx-auto px-6 py-4">
            <nav class="flex flex-col space-y-4">
                <a href="{{ url_for('home') }}" class="text-white hover:text-[#FF6B35] transition duration-300">Home</a>
                <div>
                    <button id="mobile-submenu-btn" class="text-white hover:text-[#FF6B35] transition duration-300 flex items-center justify-between w-full">
                        <span>Learning</span>
                        <i class="fas fa-chevron-down text-xs ml-1 transition-transform" id="submenu-icon"></i>
                    </button>
                    <div id="mobile-submenu" class="pl-4 mt-2 space-y-2 hidden">
                        <a href="{{ url_for('english_learning') }}" class="block text-white/80 hover:text-[#FF6B35] transition duration-300 py-1">English Learning</a>
                        <a href="{{ url_for('python_learning') }}" class="block text-white/80 hover:text-[#FF6B35] transition duration-300 py-1">Python</a>
                        <a href="{{ url_for('algorithms') }}" class="block text-white/80 hover:text-[#FF6B35] transition duration-300 py-1">Algorithms</a>
                        <a href="{{ url_for('machine_learning') }}" class="block text-white/80 hover:text-[#FF6B35] transition duration-300 py-1">Machine Learning</a>
                        <a href="{{ url_for('deep_learning_ai') }}" class="block text-white/80 hover:text-[#FF6B35] transition duration-300 py-1">Deep Learning & AI</a>
                        <a href="{{ url_for('interview_preparation') }}" class="block text-white/80 hover:text-[#FF6B35] transition duration-300 py-1">Interview Preparation</a>
                    </div>
                </div>
                <a href="{{ url_for('job_portal_index') }}" class="text-white hover:text-[#FF6B35] transition duration-300">Job Portal</a>
                <a href="{{ url_for('team') }}" class="text-white hover:text-[#FF6B35] transition duration-300">Team</a>
            </nav>
        </div>
    </div>
</header>

<!-- JavaScript for Navigation Interactivity -->
<script>
document.addEventListener('DOMContentLoaded', function () {

    // ==========================================================
    // SCRIPT FOR BOOTSTRAP DROPDOWN ON HOVER (Desktop)
    // ==========================================================
    const hoverDropdowns = document.querySelectorAll('.navbar .dropdown');
    
    if (hoverDropdowns.length > 0) {
        hoverDropdowns.forEach(function(dd) {
            // Get the necessary Bootstrap components
            const ddToggle = dd.querySelector('.dropdown-toggle');
            const bsDropdown = new bootstrap.Dropdown(ddToggle);

            // Show dropdown on mouse enter
            dd.addEventListener('mouseenter', function() {
                bsDropdown.show();
            });

            // Hide dropdown on mouse leave
            dd.addEventListener('mouseleave', function() {
                bsDropdown.hide();
            });
        });
    }

    // ==========================================================
    // SCRIPT FOR MOBILE MENU TOGGLE (Click)
    // ==========================================================
    // Note: Standard Bootstrap handles this automatically if your HTML
    // has the correct data-bs-toggle and data-bs-target attributes.
    // This custom script is generally not needed for the main mobile menu.
    // However, if you have a custom mobile implementation, you can place that logic here.
    
    // Example for a custom mobile button if you have one:
    const mobileMenuBtn = document.getElementById('mobile-menu-btn');
    const mobileMenu = document.getElementById('mobile-menu');
    
    if (mobileMenuBtn && mobileMenu) {
        mobileMenuBtn.addEventListener('click', function() {
            // This is just an example. Bootstrap's collapse plugin is preferred.
            mobileMenu.classList.toggle('show');
        });
    }

});
</script>
