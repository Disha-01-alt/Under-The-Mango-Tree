<header class="bg-[#1E3D59] text-white shadow-lg sticky top-0 z-50">
    <div class="container mx-auto px-6 py-4 flex justify-between items-center">
        <!-- Logo -->
        <div class="flex items-center">
            <i class="fas fa-tree text-2xl mr-2 text-green-400 animate-float"></i>
            <a href="{{ url_for('home') }}" class="text-xl font-bold tracking-wider hover:text-[#FF6B35] transition duration-300">Under The Mango Tree</a>
        </div>

        <!-- Desktop Navigation -->
        <nav class="hidden md:flex items-center space-x-8">
            <a href="{{ url_for('home') }}" class="hover:text-[#FF6B35] transition duration-300 font-medium">Home</a>
            
            <div class="relative">
                <button id="learningToggle" class="flex items-center hover:text-[#FF6B35] transition duration-300 font-medium focus:outline-none">
                    Learning <i class="fas fa-chevron-down text-xs ml-1"></i>
                </button>
                <div id="learningMenu" class="absolute left-0 mt-2 w-56 bg-white rounded-md shadow-xl py-2 z-20 hidden">
                    <a href="{{ url_for('english_learning')}}" class="block px-4 py-2 text-gray-800 hover:bg-gray-100 hover:text-[#FF6B35] transition duration-200">English Learning</a>
                    <a href="{{ url_for('python_learning')}}" class="block px-4 py-2 text-gray-800 hover:bg-gray-100 hover:text-[#FF6B35] transition duration-200">Python</a>
                    <a href="{{ url_for('algorithms') }}" class="block px-4 py-2 text-gray-800 hover:bg-gray-100 hover:text-[#FF6B35] transition duration-200">Algorithms</a>
                    <a href="{{ url_for('machine_learning') }}" class="block px-4 py-2 text-gray-800 hover:bg-gray-100 hover:text-[#FF6B35] transition duration-200">Machine Learning</a>
                    <a href="{{ url_for('deep_learning_ai') }}" class="block px-4 py-2 text-gray-800 hover:bg-gray-100 hover:text-[#FF6B3S5] transition duration-200">Deep Learning & AI</a>
                    <a href="{{ url_for('interview_preparation') }}" class="block px-4 py-2 text-gray-800 hover:bg-gray-100 hover:text-[#FF6B35] transition duration-200">Interview Preparation</a>
                </div>
            </div>

            <a href="{{ url_for('job_portal_index') }}" class="hover:text-[#FF6B35] transition duration-300 font-medium">Job Portal</a>
            <a href="{{ url_for('projects') }}" class="hover:text-[#FF6B35] transition duration-300 font-medium">Projects</a> 
            <a href="{{ url_for('team') }}" class="hover:text-[#FF6B35] transition duration-300 font-medium">Team</a>
        </nav>
        
        <!-- Mobile menu button -->
        <div class="md:hidden">
            <button id="mobile-menu-btn" class="text-white focus:outline-none">
                <i class="fas fa-bars text-xl" id="menu-icon"></i>
            </button>
        </div>
    </div>

    <!-- Mobile Navigation Menu -->
    <div id="mobile-menu" class="md:hidden bg-[#1E3D59] border-t border-gray-700 hidden">
        <div class="container mx-auto px-6 py-4">
            <nav class="flex flex-col space-y-4">
                <a href="{{ url_for('home') }}" class="text-white hover:text-[#FF6B35] transition duration-300">Home</a>
                <div>
                    <button id="mobile-submenu-btn" class="text-white hover:text-[#FF6B35] transition duration-300 flex items-center justify-between w-full">
                        <span>Learning</span>
                        <i class="fas fa-chevron-down text-xs ml-1 transition-transform" id="submenu-icon"></i>
                    </button>
                    <div id="mobile-submenu" class="pl-4 mt-2 space-y-2 hidden">
                        <a href="{{ url_for('english_learning') }}" class="block text-white/80 hover:text-[#FF6B35] transition duration-300 py-1">English Learning</a>
                        <a href="{{ url_for('python_learning') }}" class="block text-white/80 hover:text-[#FF6B35] transition duration-300 py-1">Python</a>
                        <a href="{{ url_for('algorithms') }}" class="block text-white/80 hover:text-[#FF6B35] transition duration-300 py-1">Algorithms</a>
                        <a href="{{ url_for('machine_learning') }}" class="block text-white/80 hover:text-[#FF6B35] transition duration-300 py-1">Machine Learning</a>
                        <a href="{{ url_for('deep_learning_ai') }}" class="block text-white/80 hover:text-[#FF6B35] transition duration-300 py-1">Deep Learning & AI</a>
                        <a href="{{ url_for('interview_preparation') }}" class="block text-white/80 hover:text-[#FF6B35] transition duration-300 py-1">Interview Preparation</a>
                    </div>
                </div>
                <a href="{{ url_for('job_portal_index') }}" class="text-white hover:text-[#FF6B35] transition duration-300">Job Portal</a>
                <a href="{{ url_for('team') }}" class="text-white hover:text-[#FF6B35] transition duration-300">Team</a>
            </nav>
        </div>
    </div>
</header>

<!-- JavaScript for Navigation Interactivity -->
<script>
    document.addEventListener('DOMContentLoaded', function () {
        // --- Desktop Dropdown ---
        const learningToggle = document.getElementById('learningToggle');
        const learningMenu = document.getElementById('learningMenu');
        if (learningToggle && learningMenu) {
            learningToggle.addEventListener('click', function (e) {
                e.stopPropagation();
                learningMenu.classList.toggle('hidden');
            });
            document.addEventListener('click', function (e) {
                if (!learningMenu.contains(e.target) && !learningToggle.contains(e.target)) {
                    learningMenu.classList.add('hidden');
                }
            });
        }

        // --- Mobile Menu ---
        const mobileMenuBtn = document.getElementById('mobile-menu-btn');
        const mobileMenu = document.getElementById('mobile-menu');
        const menuIcon = document.getElementById('menu-icon');
        if (mobileMenuBtn && mobileMenu && menuIcon) {
            mobileMenuBtn.addEventListener('click', function() {
                const isHidden = mobileMenu.classList.toggle('hidden');
                menuIcon.classList.toggle('fa-bars', isHidden);
                menuIcon.classList.toggle('fa-times', !isHidden);
            });
        }

        // --- Mobile Submenu ---
        const mobileSubmenuBtn = document.getElementById('mobile-submenu-btn');
        const mobileSubmenu = document.getElementById('mobile-submenu');
        const submenuIcon = document.getElementById('submenu-icon');
        if (mobileSubmenuBtn && mobileSubmenu && submenuIcon) {
            mobileSubmenuBtn.addEventListener('click', function() {
                const isHidden = mobileSubmenu.classList.toggle('hidden');
                submenuIcon.style.transform = isHidden ? 'rotate(0deg)' : 'rotate(180deg)';
            });
        }
    });
    <!-- At the end of templates/header.html -->

    const dropdowns = document.querySelectorAll('.navbar .dropdown');
    if (dropdowns.length > 0) {
        dropdowns.forEach(function(dd) {
            let ddToggle = dd.querySelector('.dropdown-toggle');
            let ddMenu = dd.querySelector('.dropdown-menu');
            let bsDropdown = new bootstrap.Dropdown(ddToggle);

            dd.addEventListener('mouseenter', function() {
                bsDropdown.show();
            });

            dd.addEventListener('mouseleave', function() {
                bsDropdown.hide();
            });
        });
    }
});

</script>

